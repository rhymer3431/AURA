{
  "runtime": {
    "log_level": "INFO",
    "startup_command": "Pick up the apple and return to start.",
    "interactive": true,
    "exit_after_startup_command": false
  },
  "planner": {
    "url": "http://127.0.0.1:8088/plan",
    "timeout_s": 5.0,
    "min_interval_s": 1.0,
    "mock_fallback": false
  },
  "perception": {
    "engine_path": "models/yoloe_26m_fp8.engine",
    "labels_path": "models/yoloe_labels.txt",
    "input_size": [640, 640],
    "conf_threshold": 0.25,
    "iou_threshold": 0.45,
    "max_dets": 100,
    "device_index": 0,
    "normalize": "0_1",
    "model_color": "rgb",
    "assume_input_color": "bgr",
    "camera_enabled": true,
    "camera_namespace": "g1",
    "camera_topic": "camera/color/image_raw",
    "camera_compressed_topic": "camera/color/image_raw/compressed",
    "camera_use_compressed": false,
    "debug_overlay_enabled": false,
    "debug_overlay_dir": "logs/perception_overlay",
    "debug_overlay_every_n": 15,
    "tracker": {
      "ema_alpha": 0.35,
      "prefer_center": true,
      "center_weight": 0.25,
      "max_age_s": 0.8
    },
    "mock_mode": false,
    "fallback_to_mock": false,
    "queue_size": 2,
    "base_interval_s": 0.05,
    "warmup_iters": 3,
    "enable_fallback_variant": true,
    "target_vram_gb": 1.8
  },
  "slam": {
    "mock_mode": false,
    "t_low": 0.35,
    "t_high": 0.70,
    "recover_hold_s": 2.0,
    "covariance_scale": 2.5,
    "mock_cycle_s": 20.0
  },
  "memory": {
    "stm_window_s": 8.0,
    "stm_max_entries": 128,
    "ltm_threshold": 0.55,
    "w_task_relevance": 0.35,
    "w_frequency": 0.20,
    "w_recency": 0.20,
    "w_mentioned": 0.15,
    "w_confidence": 0.10
  },
  "nav2": {
    "mock_mode": false,
    "default_timeout_s": 20.0,
    "mock_failure_rate": 0.0,
    "pose_uncertain_threshold": 0.35
  },
  "exploration": {
    "radius_m": 1.2,
    "max_cycles": 3,
    "waypoint_timeout_s": 12.0
  },
  "look_at": {
    "max_rate_hz": 20.0,
    "deadband_px": 8.0,
    "timeout_sec": 2.5,
    "grace_sec": 0.5,
    "smoothing": 0.45,
    "fallback_behavior": "hold",
    "kx": 0.0018,
    "ky": 0.0016,
    "max_rate_deg_s": 30.0,
    "target_max_age_s": 0.6
  },
  "manipulation": {
    "backend": "mock",
    "mock_mode": false,
    "fallback_to_mock": false,
    "warmup_iters": 3,
    "control_dt_s": 0.05,
    "mock_failure_rate": 0.0,
    "engine_path": "",
    "repo_id": "",
    "local_model_dir": "",
    "allow_remote_metadata": false,
    "metadata_timeout_s": 10.0,
    "image_size": 256,
    "policy_server": {
      "host": "127.0.0.1",
      "port": 5555,
      "timeout_s": 20.0,
      "request_retries": 2,
      "retry_backoff_s": 1.0,
      "identity": "g1-agent-runtime",
      "embodiment_tag": "UNITREE_G1",
      "auto_start": false,
      "start_command": "",
      "start_cwd": "",
      "startup_timeout_s": 30.0,
      "manage_server_process": true
    },
    "locomotion_backend": "direct_policy",
    "direct_policy": {
      "enabled": true,
      "policy_path": "models/policy.pt",
      "output_mode": "delta",
      "action_scale": 0.25,
      "action_clip": 1.0,
      "target_abs_clip": 2.5,
      "obs_dim": 310,
      "action_dim": 37,
      "obs_include_prev_action": true,
      "obs_include_clock": true,
      "obs_include_base_rpy": false,
      "command_scale": [1.0, 1.0, 1.0],
      "joint_pos_scale": 1.0,
      "joint_vel_scale": 1.0,
      "hold_unmapped_joints": true,
      "gait_frequency_hz": 1.5,
      "fallback_to_legacy_sonic": true
    },
    "sonic_server": {
      "enabled": true,
      "host": "127.0.0.1",
      "port": 5556,
      "timeout_s": 20.0,
      "publish_navigate_command": false,
      "control_dt_s": 0.02,
      "joint_rate_limit_rad_s": 3.0,
      "joint_blend_alpha": 0.6,
      "default_style": "normal",
      "default_vx": 0.0,
      "default_vy": 0.0,
      "default_yaw_rate": 0.0
    },
    "action_adapter": {
      "backend": "ros2_topic",
      "topic_prefix": "/g1/cmd"
    },
    "look_at": {
      "yaw_joint": "waist_yaw_joint",
      "pitch_joint": "waist_pitch_joint",
      "yaw_limits_deg": [-35.0, 35.0],
      "pitch_limits_deg": [-20.0, 20.0],
      "roll_rad": 0.0
    },
    "target_vram_gb": 3.5
  },
  "vram_guard": {
    "check_interval_s": 2.0,
    "safety_threshold_mb": 2900,
    "device_index": 0,
    "simulate_if_unavailable": false
  }
}
